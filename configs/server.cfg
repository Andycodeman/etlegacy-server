// ET:Legacy Server Configuration
// ETMan's Modded Server - Jaymod-style Crazy Mode
//

///////////////////////////////////////////////////////////////////////////////
// SERVER IDENTITY
///////////////////////////////////////////////////////////////////////////////
set sv_hostname "^1ETMan's ^3ET:Legacy ^7Server"
set server_motd0 "^3Welcome to ETMan's Server!"
set server_motd1 "^7Running ET:Legacy with custom Lua mods"
set server_motd2 "^7Double jump, low gravity, high knockback!"
set server_motd3 "^7Have fun and play nice!"
set server_motd4 ""

///////////////////////////////////////////////////////////////////////////////
// ADMIN SETTINGS
///////////////////////////////////////////////////////////////////////////////
set rconpassword "emma01"

///////////////////////////////////////////////////////////////////////////////
// NETWORK SETTINGS
///////////////////////////////////////////////////////////////////////////////
set net_port "27960"
set sv_maxclients "16"
set sv_privateclients "0"
set sv_allowDownload "1"
set sv_wwwDownload "1"
set sv_wwwBaseURL "http://etdl.coolip.me"
set sv_wwwFallback "1"
set sv_dlRate "0"
set sv_dl_maxRate "0"
set sv_maxRate "0"
set sv_pure "1"
set sv_timeout "120"
set sv_dl_timeout "300"

///////////////////////////////////////////////////////////////////////////////
// GAME SETTINGS
///////////////////////////////////////////////////////////////////////////////
set g_gametype "2"                    // 2 = Objective
set timelimit "30"
set g_warmup "8"                      // 8 second warmup countdown at map start
set g_doWarmup "0"                    // Disable warmup requiring ready (just start)
set match_warmupDamage "2"            // Full warmup damage
set match_readypercent "0"            // No ready percentage needed
set match_minplayers "0"              // No minimum players to start
set g_allowVote "1"

///////////////////////////////////////////////////////////////////////////////
// CRAZY MODE - MOVEMENT & PHYSICS
///////////////////////////////////////////////////////////////////////////////
// Gravity: 800=normal, 450=floaty, 350=moon-like
set g_gravity "450"

// Player speed (default 320, lower = slower)
set g_speed "310"

// Knockback multiplier (default 1000, 2500=crazy)
set g_knockback "2500"

// g_misc flags (ETMan mod - JayMod-style):
// 1 = Z-axis shove boost
// 2 = double jump
// 4 = no fall damage
// 8 = unlimited sprint/stamina
// 16 = no self damage
// 32 = panzer war (all classes can use panzerfaust)
// Combined: 2+4+8+32 = 46 (double jump + no fall + unlimited sprint + panzer war)
set g_misc "46"

///////////////////////////////////////////////////////////////////////////////
// TEAMS
///////////////////////////////////////////////////////////////////////////////
set team_maxplayers "0"
set team_nocontrols "1"
set g_teamForceBalance "1"

// Fast respawn (in milliseconds - these override map defaults)
// g_userAllied/AxisRespawnTime only work if maps check them
// Use g_bluelimbotime and g_redlimbotime for guaranteed override
set g_userAlliedRespawnTime "5"
set g_userAxisRespawnTime "5"
set g_bluelimbotime "5000"            // Allied respawn in ms (5 sec)
set g_redlimbotime "5000"             // Axis respawn in ms (5 sec)

///////////////////////////////////////////////////////////////////////////////
// CLASS LIMITS (no restrictions)
///////////////////////////////////////////////////////////////////////////////
set team_maxSoldiers "-1"
set team_maxMedics "-1"
set team_maxEngineers "-1"
set team_maxFieldops "-1"
set team_maxCovertops "-1"

// Heavy weapon limits
set team_maxMortars "-1"
set team_maxFlamers "-1"
set team_maxMg42s "-1"
set team_maxPanzers "-1"
set team_maxRiflegrenades "-1"

///////////////////////////////////////////////////////////////////////////////
// CHARGE TIMES (faster = more action)
///////////////////////////////////////////////////////////////////////////////
set g_soldierChargeTime "1000"        // Soldier special - 1 second recharge!
set g_engineerChargeTime "1000"       // Engineer special - 1 second
set g_medicChargeTime "1000"          // Medic special - 1 second
set g_fieldopsChargeTime "1000"       // Field Ops special - 1 second
set g_covertopsChargeTime "1000"      // Covert Ops special - 1 second

///////////////////////////////////////////////////////////////////////////////
// LIVES & RESPAWN
///////////////////////////////////////////////////////////////////////////////
set g_alliedmaxlives "0"
set g_axismaxlives "0"
set g_maxlives "0"

///////////////////////////////////////////////////////////////////////////////
// XP SETTINGS
///////////////////////////////////////////////////////////////////////////////
set g_XPSave "1"
set g_XPSaveMaxAge "604800"           // 1 week

///////////////////////////////////////////////////////////////////////////////
// FRIENDLY FIRE
///////////////////////////////////////////////////////////////////////////////
set g_friendlyFire "0"                // Off (change to 1 for chaos mode)

///////////////////////////////////////////////////////////////////////////////
// ANTI-CHEAT & LOGGING
///////////////////////////////////////////////////////////////////////////////
set pb_sv_disable "1"
set sv_cheats "0"
set g_log "server.log"
set g_logSync "1"
set logfile "2"

// IMPORTANT: Disable defaultpublic.config which overrides our settings!
set g_customConfig ""

///////////////////////////////////////////////////////////////////////////////
// LUA SCRIPTS
///////////////////////////////////////////////////////////////////////////////
set lua_modules "lua/main"
set lua_allowedModules ""

///////////////////////////////////////////////////////////////////////////////
// ETPANEL INTEGRATION
///////////////////////////////////////////////////////////////////////////////
set etpanel_enabled "1"
set etpanel_api_url "https://etpanel.coolip.me/api"
set etpanel_api_key "214f3ddbb1098e5709661f5ace51dc21"
set etpanel_debug "0"

///////////////////////////////////////////////////////////////////////////////
// OMNI-BOT
///////////////////////////////////////////////////////////////////////////////
set omnibot_enable "1"
set omnibot_path "./omni-bot"
set omnibot_flags "0"

// Bot auto-fill (keeps server populated)
set bot_minplayers "12"

///////////////////////////////////////////////////////////////////////////////
// MAP-SPECIFIC CONFIGS
// Looks for mapconfigs/<mapname>.cfg and execs it on map load
///////////////////////////////////////////////////////////////////////////////
set g_mapConfigs "mapconfigs"

///////////////////////////////////////////////////////////////////////////////
// MAP ROTATION
// Custom maps only: snatch3, ctf_face_b1, mml_minastirith_fp3
///////////////////////////////////////////////////////////////////////////////
set d1 "map snatch3; set nextmap vstr d2"
set d2 "map ctf_face_b1; set nextmap vstr d3"
set d3 "map mml_minastirith_fp3; set nextmap vstr d1"

// Start rotation
vstr d1
